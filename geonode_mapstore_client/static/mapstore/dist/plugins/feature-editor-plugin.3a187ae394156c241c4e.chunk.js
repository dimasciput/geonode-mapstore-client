(self.webpackChunkgeonode_mapstore_client=self.webpackChunkgeonode_mapstore_client||[]).push([[6336],{41156:(e,t,r)=>{"use strict";r.d(t,{fy:()=>n,gd:()=>o,zZ:()=>i,ZR:()=>a});var n="BOX_END",o="CHANGE_BOX_SELECTION_STATUS";function i(e){return{type:n,boxEndInfo:e}}function a(e){return{type:o,status:e}}},29386:(e,t,r)=>{"use strict";r.d(t,{F2:()=>n,fu:()=>o,NF:()=>i,WP:()=>a,_E:()=>u});var n="HIGHLIGHT_STATUS",o="UPDATE_HIGHLIGHTED",i="HIGHLIGHT:SET_HIGHLIGHT_FEATURES_PATH";function a(e){return{type:i,featuresPath:e}}function u(e,t){return{type:o,features:e,status:t}}},21914:(e,t,r)=>{"use strict";r.d(t,{XL:()=>o,km:()=>i,Ih:()=>a,Xw:()=>u,Pn:()=>c,DZ:()=>l,e8:()=>f,E0:()=>s,F9:()=>d,X_:()=>p,pb:()=>y,qb:()=>g,Re:()=>m,ih:()=>b,xy:()=>v,jL:()=>E,oz:()=>O,ph:()=>h,lF:()=>w,gG:()=>T,cb:()=>S,GI:()=>P,B1:()=>I,fv:()=>D,gc:()=>C,zX:()=>_,ZF:()=>F,Zb:()=>A,Fm:()=>G,sV:()=>j,Mn:()=>M,LU:()=>R,XP:()=>k,WU:()=>N,JB:()=>x,g:()=>L,ws:()=>Y,HP:()=>U,aN:()=>B,Pg:()=>V,u0:()=>W,TM:()=>H,PM:()=>z,lK:()=>q,sv:()=>X,MO:()=>Q,oO:()=>K,Mc:()=>$,Zw:()=>J,RA:()=>ee,am:()=>te,ZM:()=>re,wm:()=>ne,Y$:()=>oe});var n=r(47310),o="LOAD_FEATURE_INFO",i="ERROR_FEATURE_INFO",a="EXCEPTIONS_FEATURE_INFO",u="CHANGE_MAPINFO_STATE",c="NEW_MAPINFO_REQUEST",l="PURGE_MAPINFO_RESULTS",f="CHANGE_MAPINFO_FORMAT",s="SHOW_MAPINFO_MARKER",d="HIDE_MAPINFO_MARKER",p="SHOW_REVERSE_GEOCODE",y="HIDE_REVERSE_GEOCODE",g="GET_VECTOR_INFO",m="NO_QUERYABLE_LAYERS",b="CLEAR_WARNING",v="FEATURE_INFO_CLICK",E="IDENTIFY:UPDATE_FEATURE_INFO_CLICK_POINT",O="IDENTIFY:TOGGLE_HIGHLIGHT_FEATURE",h="TOGGLE_MAPINFO_STATE",w="UPDATE_CENTER_TO_MARKER",T="IDENTIFY:CHANGE_PAGE",S="IDENTIFY:CLOSE_IDENTIFY",P="IDENTIFY:CHANGE_FORMAT",I="IDENTIFY:TOGGLE_SHOW_COORD_EDITOR",D="IDENTIFY:EDIT_LAYER_FEATURES",C="IDENTIFY:CURRENT_EDIT_FEATURE_QUERY",_="IDENTIFY:SET_MAP_TRIGGER",F="IDENTIFY:TOGGLE_EMPTY_MESSAGE_GFI",A="IDENTIFY:SET_SHOW_IN_MAP_POPUP";function G(e,t,r,n,i){return{type:o,data:t,reqId:e,requestParams:r,layerMetadata:n,layer:i}}function j(e,t,r,n){return{type:i,error:t,reqId:e,requestParams:r,layerMetadata:n}}function M(e,t,r,n){return{type:a,reqId:e,exceptions:t,requestParams:r,layerMetadata:n}}function R(){return{type:m}}function k(){return{type:b}}function N(e,t){return{type:c,reqId:e,request:t}}function x(e,t,r,n){return{type:g,layer:e,request:t,metadata:r,queryableLayers:n}}function L(){return{type:l}}function Y(e){return{type:f,infoFormat:e}}function U(){return{type:s}}function B(){return{type:d}}function Z(e){return{type:p,reverseGeocodeData:e.data}}function V(e){return function(t){n.Z.reverseGeocode(e).then((function(e){t(Z(e))})).catch((function(e){t(Z(e))}))}}function W(){return{type:y}}function H(){return{type:h}}function z(e){return{type:w,status:e}}function q(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return{type:v,point:e,layer:t,filterNameList:r,overrideParams:n,itemId:o}}function X(e){return{type:E,point:e}}function Q(e){return{type:O,enabled:e}}function K(e){return{type:T,index:e}}var $=function(){return{type:S}},J=function(e){return{type:P,format:e}},ee=function(e){return{type:I,showCoordinateEditor:e}},te=function(e){return{type:D,layer:e}},re=function(e){return{type:C,query:e}},ne=function(e){return{type:_,trigger:e}},oe=function(e){return{type:A,value:e}}},7878:(e,t,r)=>{"use strict";r.d(t,{E6:()=>a,vo:()=>u,l1:()=>c,J9:()=>l,U:()=>f,z8:()=>s,ql:()=>d,O_:()=>p,M$:()=>y,Ug:()=>g,p5:()=>m,Fz:()=>b,WZ:()=>v,bP:()=>E,On:()=>O,d_:()=>h,xM:()=>w,bl:()=>T,Wi:()=>S,PN:()=>P,_M:()=>I,Wm:()=>D,Eg:()=>C,V1:()=>_,cY:()=>F,RD:()=>A,Hl:()=>G,co:()=>j,uY:()=>M,H8:()=>R,je:()=>k,go:()=>N,_8:()=>x,xd:()=>L,o7:()=>Y,Nr:()=>U,Gf:()=>B,nh:()=>Z,Rf:()=>V,D6:()=>W,Sm:()=>H,Ef:()=>z,jW:()=>q,kQ:()=>X,JG:()=>Q,js:()=>K,q$:()=>$,OZ:()=>J,Nc:()=>ee,NV:()=>te,I5:()=>re,QL:()=>ne,I:()=>oe,ku:()=>ie,EU:()=>ae,IV:()=>ue,HT:()=>ce,lg:()=>le,ds:()=>fe,VF:()=>se,DD:()=>de,uo:()=>pe,Ry:()=>ye,ZH:()=>ge,AQ:()=>me,yC:()=>be,F:()=>ve,mc:()=>Ee,uM:()=>he,eJ:()=>we,uP:()=>Te,N5:()=>Se,bn:()=>Pe,Bm:()=>Ie,F2:()=>De,jR:()=>Ce,$J:()=>_e});var n=r(75875),o=r.n(n);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a="ADD_FILTER_FIELD",u="REMOVE_FILTER_FIELD",c="UPDATE_FILTER_FIELD",l="UPDATE_EXCEPTION_FIELD",f="ADD_GROUP_FIELD",s="UPDATE_LOGIC_COMBO",d="REMOVE_GROUP_FIELD",p="CHANGE_CASCADING_VALUE",y="EXPAND_ATTRIBUTE_PANEL",g="EXPAND_SPATIAL_PANEL",m="QUERYFORM:EXPAND_CROSS_LAYER",b="QUERYFORM:SET_CROSS_LAYER_PARAMETER",v="QUERYFORM:RESET_CROSS_LAYER_FILTER",E="SELECT_SPATIAL_METHOD",O="SELECT_VIEWPORT_SPATIAL_METHOD",h="UPDATE_GEOMETRY",w="SELECT_SPATIAL_OPERATION",T="CHANGE_SPATIAL_ATTRIBUTE",S="CHANGE_SPATIAL_FILTER_VALUE",P="REMOVE_SPATIAL_SELECT",I="SHOW_SPATIAL_DETAILS",D="QUERY_FORM_SEARCH",C="QUERY_FORM_RESET",_="SHOW_GENERATED_FILTER",F="CHANGE_DWITHIN_VALUE",A="ZONE_SEARCH",G="ZONE_SEARCH_ERROR",j="ZONE_FILTER",M="ZONE_CHANGE",R="ZONES_RESET",k="SIMPLE_FILTER_FIELD_UPDATE",N="ADD_SIMPLE_FILTER_FIELD",x="REMOVE_SIMPLE_FILTER_FIELD",L="REMOVE_ALL_SIMPLE_FILTER_FIELDS",Y="UPDATE_FILTER_FIELD_OPTIONS",U="LOADING_FILTER_FIELD_OPTIONS",B="QUERYFORM:ADD_CROSS_LAYER_FILTER_FIELD",Z="QUERYFORM:UPDATE_CROSS_LAYER_FILTER_FIELD",V="QUERYFORM:REMOVE_CROSS_LAYER_FILTER_FIELD",W="SET_AUTOCOMPLETE_MODE",H="TOGGLE_AUTOCOMPLETE_MENU",z="QUERYFORM:LOAD_FILTER";function q(e){return{type:a,groupId:e}}function X(e,t){return{type:f,groupId:e,index:t}}function Q(e){return{type:u,rowId:e}}function K(e,t){return{type:H,rowId:e,status:t}}function $(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:c,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function J(e,t){return{type:l,rowId:e,exceptionMessage:t}}function ee(e,t){return{type:s,groupId:e,logic:t}}function te(e){return{type:W,status:e}}function re(e){return{type:d,groupId:e}}function ne(e){return{type:p,attributes:e}}function oe(e){return{type:y,expand:e}}function ie(e){return{type:g,expand:e}}function ae(e){return{type:m,expand:e}}function ue(e,t){return{type:b,key:e,value:t}}function ce(e,t){return{type:E,fieldName:t,method:e}}function le(){return{type:O}}function fe(e){return{type:h,geometry:e}}function se(e,t){return{type:w,fieldName:t,operation:e}}function de(e){return{type:T,attribute:e}}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.feature,r=e.srsName,n=e.collectGeometries,o=e.style,i=e.options,a=e.value;return{type:S,value:a,collectGeometries:n,options:i,geometry:t&&t.geometry,feature:t,srsName:r,style:o}}function ye(){return{type:P}}function ge(e){return{type:I,show:e}}function me(e){return{type:F,distance:e}}function be(e,t){return{type:D,searchUrl:e,filterObj:t}}function ve(e){return{type:z,filter:e}}function Ee(e){return{type:C,skip:e}}function Oe(e,t){return{type:G,error:e,id:t}}function he(e,t){return{type:A,active:e,id:t}}function we(e,t,r){return function(n){return o().post(e,t,{timeout:1e4,headers:{Accept:"application/json","Content-Type":"text/plain"}}).then((function(o){var a=o.data;if("object"!==i(a))try{a=JSON.parse(a)}catch(o){n(Oe("Search result broken ("+e+":   "+t+"): "+o.message,r))}n(function(e,t){return{type:j,data:e,id:t}}(a,r)),n(he(!1,r))})).catch((function(e){n(Oe(e,r))}))}}function Te(e,t){return{type:M,id:e,value:t}}function Se(e){return{type:B,rowId:(new Date).getTime(),groupId:e}}function Pe(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{type:Z,rowId:e,fieldName:t,fieldValue:r,fieldType:n,fieldOptions:o}}function Ie(e){return{type:V,rowId:e}}function De(){return{type:v}}function Ce(e,t){return{type:U,status:e,filterField:t}}function _e(e,t,r){return{type:Y,filterField:e,options:t,valuesCount:r}}},57579:(e,t,r)=>{"use strict";r.d(t,{Jm:()=>u,AE:()=>c,dm:()=>l,n8:()=>f,BV:()=>s,Cz:()=>d,$A:()=>p,eb:()=>y,v8:()=>g,yY:()=>m,ff:()=>b,S0:()=>v,Q6:()=>E,kb:()=>O,GV:()=>h,LH:()=>w,lG:()=>T,Km:()=>S,pV:()=>P,V5:()=>I,IT:()=>D,VR:()=>C,jv:()=>_,oU:()=>F,Ym:()=>A,uU:()=>G,ke:()=>j,nw:()=>M,A4:()=>R,C2:()=>k,Qe:()=>N,Ij:()=>x,Ko:()=>L,E9:()=>Y,K4:()=>U,c_:()=>B,uT:()=>Z,bS:()=>V,Rz:()=>W,t4:()=>H,_k:()=>z,w2:()=>q,YA:()=>X,sD:()=>Q,Rb:()=>K,fy:()=>$,kr:()=>J,f:()=>ee,Ff:()=>te,Pt:()=>re,ep:()=>ne});var n=r(23570),o=r.n(n);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u="WIDGETS:INSERT",c="WIDGETS:NEW",l="WIDGETS:EDIT",f="WIDGETS:EDIT_NEW",s="WIDGETS:EDITOR_CHANGE",d="WIDGETS:EDITOR_SETTING_CHANGE",p="WIDGETS:UPDATE_PROPERTY",y="WIDGETS:UPDATE_LAYER",g="WIDGETS:CHANGE_LAYOUT",m="WIDGETS:DELETE",b="WIDGETS:CLEAR_WIDGETS",v="WIDGETS:ADD_DEPENDENCY",E="WIDGETS:REMOVE_DEPENDENCY",O="WIDGETS:LOAD_DEPENDENCIES",h="WIDGETS:RESET_DEPENDENCIES",w="WIDGETS:TOGGLE_CONNECTION",T="WIDGETS:OPEN_FILTER_EDITOR",S="WIDGETS:EXPORT_CSV",P="WIDGETS:EXPORT_IMAGE",I="WIDGETS:WIDGET_SELECTED",D="WIDGETS:NEW_CHART",C="floating",_="dependencySelector",F=/^widgets\["?([^"\]]*)"?\]\.?(.*)$/,A="WIDGET:TOGGLE_COLLAPSE",G="WIDGET:TOGGLE_COLLAPSE_ALL",j="WIDGET:TOGGLE_MAXIMIZE",M="WIDGET:TOGGLE_TRAY",R=function(e){return{type:c,widget:e}},k=function(){return{type:D}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return{type:u,target:t,id:o()(),widget:e}},x=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"replace",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:C;return{type:p,id:e,target:o,key:t,value:r,mode:n}},L=function(e){return{type:y,layer:e}},Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return{type:m,target:t,widget:e}},U=function(){return{type:b}},B=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:C;return{type:g,allLayouts:t,layout:e,target:r}},Z=function(e){return{type:l,widget:e}},V=function(e,t){return{type:f,widget:e,settings:t}},W=function(e,t){return{type:s,key:e,value:t}},H=function(e,t){return{type:d,key:e,value:t}},z=function(e){return{type:O,dependencies:e}},q=function(e,t,r,n){return{type:w,active:e,availableDependencies:t,options:r,target:n}},X=function(e){return H("step",e)},Q=function(e){var t=e.data,r=void 0===t?[]:t,n=e.title;return{type:S,data:r,title:void 0===n?"export":n}},K=function(e){var t=e.widgetDivId;return{type:P,widgetDivId:t}},$=function(){return{type:T}},J=function(e,t){return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({active:e},t),H("".concat(_),r);var r},ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return{type:A,widget:e,target:t}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;return{type:G,target:e}},re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;return{type:j,widget:e,target:t}},ne=function(e){return{type:M,value:e}}},59979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(24852),o=r.n(n),i=r(52595),a=r(30294),u=r(57557),c=r.n(u),l=r(80307),f=r.n(l);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}var d=["popoverOptions","keyProp"];function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function b(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}const E=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(E,t);var r,n,u,l,s=(u=E,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=v(u);if(l){var r=v(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return b(this,e)});function E(){return y(this,E),s.apply(this,arguments)}return r=E,(n=[{key:"render",value:function(){var t=null,r=this.props,n=r.popoverOptions,u=r.keyProp,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,d);return o().createElement("span",{className:"mapstore-info-popover"},o().createElement(e,p({},c()(l,["renderPopover","tooltipId"]),{key:u,ref:function(e){t=e}})),o().createElement(i.Z,{placement:n.placement,shouldUpdatePosition:!0,show:!0,target:function(){return f().findDOMNode(t)}},o().createElement(a.Popover,n.props,n.content)))}}])&&g(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),E}(o().Component)}},1262:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(27418),o=r.n(n),i=r(45697),a=r.n(i),u=r(24852),c=r.n(u),l=r(80307),f=r.n(l),s=r(30294),d=r(38560),p=r(5346),y=r(7472);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function E(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(u,e);var t,r,n,i,a=(n=u,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=h(n);if(i){var r=h(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return E(this,e)});function u(){var e;m(this,u);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(O(e=a.call.apply(a,[this].concat(r))),"setConfirmRef",(function(t){return e.confirm=t,e.confirm})),e}return t=u,(r=[{key:"componentDidMount",value:function(){this.props.focusConfirm&&f().findDOMNode(this.confirm).focus()}},{key:"render",value:function(){return c().createElement(y.Z,{draggable:this.props.draggable,onClickOut:this.props.onClose,id:"confirm-dialog",modal:this.props.modal,style:o()({},this.props.style,{display:this.props.show?"block":"none"})},c().createElement("span",{role:"header"},c().createElement("span",{className:"user-panel-title"},this.props.title),c().createElement("button",{onClick:this.props.onClose,className:"login-panel-close close"},this.props.closeGlyph?c().createElement(s.Glyphicon,{glyph:this.props.closeGlyph}):c().createElement("span",null,"×"))),c().createElement("div",{role:"body"},this.props.children),c().createElement("div",{role:"footer"},c().createElement(s.ButtonGroup,null,c().createElement(d.Z,{ref:this.setConfirmRef,onClick:this.props.onConfirm,disabled:this.props.confirmButtonDisabled,bsStyle:this.props.confirmButtonBSStyle},this.props.confirmButtonContent),c().createElement(d.Z,{onClick:this.props.onClose},this.props.closeText))))}}])&&b(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),u}(c().Component);w(T,"propTypes",{show:a().bool,draggable:a().bool,onClose:a().func,onConfirm:a().func,onSave:a().func,modal:a().bool,closeGlyph:a().string,style:a().object,buttonSize:a().string,inputStyle:a().object,title:a().node,confirmButtonContent:a().node,confirmButtonDisabled:a().bool,closeText:a().node,confirmButtonBSStyle:a().string,focusConfirm:a().bool}),w(T,"defaultProps",{onClose:function(){},onChange:function(){},modal:!0,title:c().createElement(p.Z,{msgId:"confirmTitle"}),closeGlyph:"",confirmButtonBSStyle:"danger",confirmButtonDisabled:!1,confirmButtonContent:c().createElement(p.Z,{msgId:"confirm"})||"Confirm",closeText:c().createElement(p.Z,{msgId:"close"}),includeCloseButton:!0,focusConfirm:!1});const S=T},52595:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=(0,r(61365).Z)(r(30294).Overlay)},50966:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(61365),o=r(30294);const i=(0,n.Z)(o.OverlayTrigger)},61365:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(24852),o=r.n(n),i=r(37275);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a.apply(this,arguments)}const u=function(e){return function(t){return o().createElement(e,a({},t,{container:document.querySelector("."+(i.ZP.getConfigProp("themePrefix")||"ms2")+" > div")||document.body}))}}},15135:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(24852),o=r.n(n),i=r(67076),a=r(30294),u=r(50966),c=r(5346),l=r(57557),f=r.n(l),s=["tooltip","tooltipId","tooltipPosition","tooltipTrigger","keyProp","idDropDown","args"];function d(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const p=(0,i.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tooltip,r=e.tooltipId;return t||r}),(function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.tooltip,n=t.tooltipId,i=t.tooltipPosition,l=void 0===i?"top":i,f=t.tooltipTrigger,p=t.keyProp,y=t.idDropDown,g=t.args,m=d(t,s);return o().createElement(u.Z,{trigger:f,id:y,key:p,placement:l,overlay:o().createElement(a.Tooltip,{id:"tooltip-"+p},n?o().createElement(c.Z,{msgId:n,msgParams:{data:g}}):r)},o().createElement(e,m))}}),(function(e){return function(t){return o().createElement(e,f()(t,["tooltipId","tooltip"]),t.children)}}))},20296:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Mr});var n={};r.r(n),r.d(n,{activateBoxSelectionTool:()=>Fe,activateGeometryFilter:()=>ke,activateTemporaryChangesEpic:()=>je,askChangesConfirmOnFeatureGridClose:()=>et,autoCloseFeatureGridEpicOnDrowerOpen:()=>Je,autoReopenFeatureGridOnFeatureInfoClose:()=>ot,closeIdentifyWhenOpenFeatureGrid:()=>ct,closeRightPanelOnFeatureGridOpen:()=>We,deactivateBoxSelectionTool:()=>Ae,deactivateGeometryFilter:()=>Re,deactivateSyncWmsFilterOnFeatureGridClose:()=>st,deleteGeometryFeature:()=>ze,deleteSelectedFeatureGridFeatures:()=>Ue,disableMultiSelect:()=>De,enableGeometryFilterOnEditMode:()=>Ie,featureGridBrowseData:()=>Ee,featureGridChangePage:()=>Ne,featureGridLayerSelectionInitialization:()=>Oe,featureGridReloadPageOnSaveSuccess:()=>xe,featureGridSort:()=>we,featureGridStartupQuery:()=>he,featureGridUpdateGeometryFilter:()=>Te,featureGridUpdateTextFilters:()=>Pe,handleBoxSelectionDrawEnd:()=>_e,handleClickOnMap:()=>Ce,handleDrawFeature:()=>Ze,handleEditFeature:()=>Be,handleGeometryFilterActivation:()=>Me,hideDrawerOnFeatureGridOpenMobile:()=>mt,hideFeatureGridOnDrawerOpenMobile:()=>gt,launchUpdateFilterEpic:()=>Se,onClearChangeConfirmedFeatureGrid:()=>tt,onCloseFeatureGridConfirmed:()=>rt,onFeatureGridCreateNewFeature:()=>Xe,onFeatureGridGeometryEditing:()=>He,onFeatureGridZoomAll:()=>at,onOpenAdvancedSearch:()=>it,removeWmsFilterOnGridClose:()=>nt,replayOnTimeDimensionChange:()=>yt,resetControlsOnEnterInEditMode:()=>ut,resetEditingOnFeatureGridClose:()=>Ve,resetGridOnLocationChange:()=>Ke,resetQueryPanel:()=>$e,savePendingFeatureGridChanges:()=>Ye,selectFeaturesOnMapClickResult:()=>Ge,setHighlightFeaturesPath:()=>Qe,startSyncWmsFilter:()=>lt,stopSyncWmsFilter:()=>ft,syncMapWmsFilter:()=>dt,triggerDrawSupportOnSelectionChange:()=>qe,updateSelectedOnSaveOrCloseFeatureGrid:()=>Le,virtualScrollLoadFeatures:()=>pt});var o=r(24852),i=r.n(o),a=r(71703),u=r(22222),c=r(12838),l=r(27361),f=r.n(l),s=r(78718),d=r.n(s),p=r(67076),y=r(32833),g=r(22843),m=r(49977),b=r.n(m),v=r(91175),E=r.n(v),O=r(41609),h=r.n(O),w=r(13311),T=r.n(w),S=r(84596),P=r.n(S),I=r(64721),D=r.n(I),C=r(54061),_=r.n(C),F=r(75982),A=r(75875),G=r.n(A),j=r(13292),M=r.n(j),R=r(34387),k=r(96958),N=r(27418),x=r.n(N),L=r(4206),Y=r(50937),U=r.n(Y),B=r(78889),Z=r(21914),V=r(95797),W=r(7878),H=r(1550),z=r(41156),q=r(827),X=r(80416),Q=r(33528),K=r(82904),$=r(7147),J=r(29386),ee=r(31255),te=r(97395),re=r(24260),ne=r(10284),oe=r(69842),ie=r(47805),ae=r(86267),ue=r(52259);function ce(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){de(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function de(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.page,n=t.size,o=(0,ee.Vf)(e),i=void 0!==n?n:o.size;return{startIndex:void 0!==r?r*i:o.page*i,maxFeatures:i}},ye=function(e,t){return se(se({},e),{},{pagination:t})},ge=function(e,t,r){var n=r.insert,o=r.update,i=r.propertyChange,a=r.getPropertyName;return(0,r.transaction)(t.map((function(e){return n(e)})),Object.keys(e).map((function(t){return Object.keys(e[t]).map((function(r){return o([i(a(r),e[t][r]),(0,R.fidFilter)("ogc",t)])}))})))},me=function(e,t){return b().Observable.defer((function(){return G().post(e,t,{headers:{"Content-Type":"application/xml"}})})).let(ne.oB)},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.featuregrid;return(0,X.He)(t.selectedLayer,{filterObj:void 0})},ve=function(e){return function(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.update,o=void 0===n?{}:n,i=r.append,a=(0,ee.Li)(e.getState()),u=a.id,c=se({},f()(e.getState(),'featuregrid.advancedFilters["'.concat(u,'"]')));if(c){var l=(0,ee.M0)(e.getState())||{},s=_()(l,(function(e,t,r){return(0,k.dJ)(se({attribute:r},t),e)}),{}),d="AND";s.spatialField&&(c.spatialField=void 0,d=s.spatialFieldOperator);var p=(0,ie.composeAttributeFilters)([c,s],"AND",d),y=se(se({},c),p);return(0,V.rh)(y,o.type)}var g=o;return i&&null!=o&&o.attribute&&(g=(0,ee.M0)(e.getState())[null==o?void 0:o.attribute]),(0,V.rh)((0,k.dJ)(g,(0,re.X1)(e.getState())),null===(t=g)||void 0===t?void 0:t.type)}},Ee=function(e,t){return e.ofType(X.R8).switchMap((function(r){var n,o=r.layer,i=f()(t.getState(),"query.typeName");return(n=b().Observable).of.apply(n,ce(i!==o.name?[(0,W.mc)()]:[]).concat([(0,K.Xg)("drawer","enabled",!1),(0,Q.uF)(o.id),(0,Q.t9)()])).merge(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.url,o=r.name,i=r.id,a=f()(t.getState(),'featuregrid.advancedFilters["'.concat(i,'"]')),u=function(){return(0,V.rP)(n,a||{featureTypeName:o,filterType:"OGC",ogcVersion:"1.1.0"})};return(0,re.hk)(t.getState(),o)?b().Observable.of(u(),(0,V.gT)(n,o)):b().Observable.of((0,V.gT)(n,o)).merge(e.ofType(V.u7).filter((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).typeName===o})).map(u))}(e,t,o))}))},Oe=function(e){return e.ofType(V.DR).switchMap((function(e){return b().Observable.of((0,Q.uF)(e.id))}))},he=function(e,t){return e.ofType(V.Yx).switchMap((function(){return b().Observable.of((0,Q.oO)(0)).concat((0,ee.eK)(t.getState())===Q.EH.VIEW?b().Observable.of((0,Q.nY)()):b().Observable.empty())}))},we=function(e,t){return e.ofType(Q.dY).switchMap((function(r){var n=r.sortBy,o=r.sortOrder;return b().Observable.of((0,V.IO)((0,re.Bu)(t.getState()),ye(se(se({},(0,re.X1)(t.getState())),{},{sortOptions:{sortBy:n,sortOrder:o}}),pe(t.getState())),(0,ee.TC)(t.getState()))).merge(e.ofType(V.Hu).map((function(e){return(0,Q.UB)(f()(e,"result.features",[]),[f()(e,"filterObj.pagination.startIndex")])})).takeUntil(e.ofType(V.VT)).take(1))}))},Te=function(e,t){return e.ofType(Q.$O).switchMap((function(){var r,n=null===(r=(0,ee.Vf)(t.getState()))||void 0===r?void 0:r.size;return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.value})).switchMap((function(){var r=!1;return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled&&!r.deactivated})).switchMap((function(e,n){return 0===n?(r=!0,b().Observable.from([(0,Q.Jr)(1e5),(0,Q.KD)([]),ve(t)(e)])):b().Observable.of(ve(t)(e))})).takeUntil(b().Observable.merge(e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(Q.sF,F.nk))).merge(e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).take(1).switchMap((function(e){return r?b().Observable.of((0,Q.Jr)(n),ve(t)(e)):b().Observable.of(ve(t)(e))})).takeUntil(e.ofType(Q.sF,F.nk))).merge(e.ofType(Q.sF,F.nk).take(1).switchMap((function(){var e,o=(0,Q.a8)({attribute:null===(e=(0,B.findGeometryProperty)((0,re.Qs)(t.getState())))||void 0===e?void 0:e.name,enabled:!1,type:"geometry"});return r?b().Observable.of((0,Q.Jr)(n),o,(0,Q.pP)(o)):b().Observable.of(o,(0,Q.pP)(o))})))}))}))},Se=function(e,t){return e.ofType(Q.iB).switchMap((function(e){return b().Observable.of(ve(t)(e.updateFilterAction))}))},Pe=function(e,t){return e.ofType(V.Yx).switchMap((function(){return e.ofType(Q._u).filter((function(e){var t=e.update;return"geometry"!==(void 0===t?{}:t).type})).map(ve(t))}))},Ie=function(e,t){return e.ofType(Q.aO).filter((function(){return(0,ee.eK)(t.getState())===Q.EH.EDIT})).switchMap((function(){return(T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{}).value?b().Observable.empty():b().Observable.of((0,Q.a8)({attribute:(0,B.findGeometryProperty)((0,re.Qs)(t.getState())).name,enabled:!0,type:"geometry"}))}))},De=function(e){return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})).switchMap((function(){return b().Observable.of((0,Q.dq)())}))},Ce=function(e,t){return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(H.TR).switchMap((function(e){var r=e.point,n=r.latlng,o=r.pixel,i=r.modifiers,a=i.ctrl,u=i.metaKey,c=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},l=(0,q.uy)(t.getState()),s=ae.default.reproject([n.lng,n.lat],"EPSG:4326",l),d=ue.default.getHook(ue.default.GET_COORDINATES_FROM_PIXEL_HOOK),p=ae.default.calculateCircleRadiusFromPixel(d,o,s,4);return c.deactivated?b().Observable.empty():b().Observable.of((0,Q.dq)({multiselect:a||u}),(0,Q.a8)(se(se({},c),{},{value:{attribute:c.attribute||f()((0,oe.vE)(t.getState()),"attribute"),geometry:{center:[s.x,s.y],coordinates:ae.default.calculateCircleCoordinates(s,p,12),extent:[s.x-p,s.y-p,s.x+p,s.y+p],projection:l,radius:p,type:"Polygon"},method:"Circle",operation:"INTERSECTS"}}),a||u))})).takeUntil(b().Observable.merge(e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(F.nk)))}))},_e=function(e,t){return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return e.ofType(z.fy).switchMap((function(e){var r=e.boxEndInfo,n=r.boxExtent,o=r.modifiers,i=o.ctrl,a=o.metaKey,u=ae.default.getPolygonFromExtent(n),c=(0,q.uy)(t.getState()),l=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return l.deactivated?b().Observable.empty():b().Observable.of((0,Q.dq)({multiselect:i||a}),(0,Q.a8)(se(se({},l),{},{value:{geometry:se(se({},u.geometry),{},{projection:c}),attribute:l.attribute||f()((0,oe.vE)(t.getState()),"attribute"),method:"Rectangle",operation:"INTERSECTS"}}),i||a))})).takeUntil(b().Observable.merge(e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled}))))}))},Fe=function(e){return e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&r.enabled})).switchMap((function(){return b().Observable.of((0,z.ZR)("start"))}))},Ae=function(e){return b().Observable.merge(e.ofType(Q._u).filter((function(e){var t=e.update,r=void 0===t?{}:t;return"geometry"===r.type&&!r.enabled})),e.ofType(Q.sF)).switchMap((function(){return b().Observable.of((0,z.ZR)("end"))}))},Ge=function(e,t){return e.ofType(V.Hu).filter((function(e){return"geometry"===e.reason})).switchMap((function(e){var r=e.result,n=f()(r,"features"),o=(0,ee.gz)(t.getState()),i=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}));return b().Observable.of((0,Q.KD)(n.length>0&&i&&i.value?ce(n):[],o))}))},je=function(e){return e.ofType(Q.VV).flatMap((function(e){var t=e.activated;return b().Observable.of((0,Q.YG)(t),(0,Q.VH)(t))}))},Me=function(e,t){return e.ofType(Q._9).flatMap((function(){var e=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,ee.LB)(t.getState()),n=(0,ee.b4)(t.getState());return b().Observable.of((0,Q.a8)(se(se({},e),{},{type:"geometry",attribute:e.attribute||f()((0,oe.vE)(t.getState()),"attribute"),deactivated:!(!r&&!n&&e.deactivated)})))}))},Re=function(e,t){return b().Observable.merge(e.ofType(Q.IN,L.DI,Q.JB,Q.K8),e.ofType(Q.B8).filter((function(e){return!!e.deactivated}))).flatMap((function(){var e=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{};return e.deactivated?b().Observable.empty():b().Observable.of((0,Q.a8)(se(se({},e),{},{type:"geometry",attribute:e.attribute||f()((0,oe.vE)(t.getState()),"attribute"),deactivated:!0})))}))},ke=function(e,t){return b().Observable.merge(e.ofType(Q.AY,Q.yi),e.ofType(Q.B8).filter((function(e){return!e.deactivated}))).flatMap((function(){var e=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}))||{},r=(0,ee.LB)(t.getState()),n=(0,ee.b4)(t.getState());return!e.deactivated||r||n?b().Observable.empty():b().Observable.of((0,Q.a8)(se(se({},e),{},{type:"geometry",attribute:e.attribute||f()((0,oe.vE)(t.getState()),"attribute"),deactivated:!1})))}))},Ne=function(e,t){return e.ofType(Q.gG).merge(e.ofType(V.VN).debounceTime(500).map((function(e){return se(se({},e),{},{page:0})}))).switchMap((function(r){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.page,n=t.size,o=t.reason,i=e.getState();return b().Observable.of((0,V.IO)((0,re.Bu)(i),ye(se({},(0,re.X1)(i)),pe(i,{page:r,size:n})),(0,ee.TC)(i),o))}}(t)(r).merge(e.ofType(V.Hu).map((function(e){var r=f()(e,"result.features",[]),n=(0,ee.gz)(t.getState()),o=T()((0,ee.M0)(t.getState()),(function(e){return"geometry"===e.type}));return n&&o.enabled&&(r=(0,ee._w)(t.getState())),(0,Q.UB)(r,[f()(e,"filterObj.pagination.startIndex")])})).take(1).takeUntil(e.ofType(V.VT)))}))},xe=function(e,t){return e.ofType(Q.AY).switchMap((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.page,o=r.size;return b().Observable.of((0,V.IO)((0,re.Bu)(t.getState()),ye(se({},(0,re.X1)(t.getState())),pe(t.getState(),{page:n,size:o})),(0,ee.TC)(t.getState())),(0,X.ct)((0,ee.u$)(t.getState()))).merge(e.ofType(V.Hu).map((function(e){return b().Observable.of((0,Q.$E)(),(0,Q.UB)(f()(e,"result.features",[]),[f()(e,"filterObj.pagination.startIndex")]))})).mergeAll().takeUntil(e.ofType(V.VT)).take(2))}))},Le=function(e){return e.ofType(Q.AY,Q.sF).switchMap((function(){return b().Observable.of((0,Q.KD)([]))}))},Ye=function(e,t){return e.ofType(Q.zh).switchMap((function(){return b().Observable.of((0,Q.fO)()).concat(function(){var e=arguments.length>2?arguments[2]:void 0;return me(arguments.length>3?arguments[3]:void 0,ge(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],U()(e)))}((0,ee.ND)(t.getState()),(0,ee.kG)(t.getState()),(0,re.Qs)(t.getState()),(0,re.Bu)(t.getState())).map((function(){return(0,Q.gc)()})).catch((function(e){return b().Observable.of((0,Q.cE)(),(0,te.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError",autoDismiss:5}))})))}))},Ue=function(e,t){return e.ofType(Q.Hk).switchMap((function(){return b().Observable.of((0,Q.fO)()).concat((e=(0,ee._w)(t.getState()),r=(0,re.Qs)(t.getState()),n=(0,re.Bu)(t.getState()),me(n,function(e,t){var r=t.transaction,n=t.deleteFeature;return r(e.map(n))}(e,U()(r)))).map((function(){return(0,Q.gc)()})).catch((function(e){return b().Observable.of((0,Q.cE)(),(0,te.vU)({title:"featuregrid.errorSaving",message:e.message||"Unknown Exception",uid:"saveError"}))})).concat(b().Observable.of((0,Q.Pv)("deleteConfirm"),(0,Q.MO)())));var e,r,n}))},Be=function(e,t){return e.ofType(Q.Ub).switchMap((function(){var e=t.getState(),r=(0,re.Qs)(e),n=(0,k.cZ)(),o=(0,B.findGeometryProperty)(r).localType,i={featureProjection:n,stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},a=x()({},(0,ee.P3)(e),{type:"Feature"}),u=(0,ee.ND)(e);return u[a.id]&&u[a.id]&&u[a.id].geometry&&(a.geometry=u[a.id].geometry),b().Observable.of((0,L.Yf)("drawOrEdit",o,"featureGrid",[a],i))}))},Ze=function(e,t){return e.ofType(Q._9).switchMap((function(){var e=t.getState(),r=(0,re.Qs)(e),n=(0,k.cZ)(),o=(0,B.findGeometryProperty)(r).localType,i=x()({},(0,ee.P3)(e),{type:"Feature"}),a=(0,ee.ND)(e);a[i.id]&&(a[i.id].geometry||null===a[i.id].geometry)&&(i.geometry=a[i.id].geometry),i._new&&(i.geometry=E()((0,ee.kG)(e)).geometry);var u={featureProjection:n,stopAfterDrawing:!0,editEnabled:!(0,ee.Ae)(e),drawEnabled:(0,ee.Ae)(e)};return b().Observable.of((0,L.Yf)("drawOrEdit",o,"featureGrid",[i],u))}))},Ve=function(e,t){return e.ofType(Q.$O).switchMap((function(){return e.ofType(Q.aO).filter((function(){return(0,ee.eK)(t.getState())===Q.EH.EDIT})).take(1).switchMap((function(){return e.ofType(F.nk,Q.sF).take(1).switchMap((function(){return b().Observable.of((0,L.bp)())}))}))}))},We=function(e,t){return e.ofType(Q.$O).switchMap((function(){var e=[(0,K.Xg)("metadataexplorer","enabled",!1),(0,K.Xg)("annotations","enabled",!1),(0,K.Xg)("details","enabled",!1)];return(0,$.Iz)(t.getState())&&e.push((0,K.Xg)("measure","enabled",!1)),b().Observable.from(e)}))},He=function(e,t){return e.ofType(L.DI).filter((function(e){return"featureGrid"===e.owner})).switchMap((function(e){var r=t.getState(),n={featureProjection:(0,k.cZ)(),stopAfterDrawing:!1,editEnabled:!0,drawEnabled:!1},o=e.features.map((function(e,t){return x()({},e,{id:(0,ee._w)(r)[t].id,_new:(0,ee._w)(r)[t]._new,type:"Feature"})})),i=x()({},E()(e.features),{id:(0,ee.P3)(r).id,_new:(0,ee.P3)(r)._new,type:"Feature"}),a="enterEditMode"===e.enableEdit?b().Observable.of((0,L.Yf)("drawOrEdit",i.geometry.type,"featureGrid",o,n)):b().Observable.empty();return b().Observable.of((0,Q.Vw)(o)).concat(a)}))},ze=function(e,t){return e.ofType(Q.JB).switchMap((function(){var e=t.getState();return b().Observable.from([(0,Q.F5)((0,ee._w)(e)),(0,L.bp)()])}))},qe=function(e,t){return e.ofType(Q.Oj,Q.jp,Q.yi,Q.aO).filter((function(){return(0,ee.eK)(t.getState())===Q.EH.EDIT&&(0,ee.bq)(t.getState())})).switchMap((function(e){return r=t.getState(),n=e.type===Q.yi,o=(0,k.cZ)(),i=(0,B.findGeometryProperty)((0,re.Qs)(r)).localType,a={featureProjection:o,stopAfterDrawing:ue.default.isSimpleGeomType(i),editEnabled:!0,drawEnabled:!1},(u=(0,ee._w)(r).map((function(e){var t=x()({},e,{type:"Feature"});if(!h()(t)){var o=(0,ee.ND)(r);if(o[t.id]&&(o[t.id].geometry||null===o[t.id].geometry)&&(t.geometry=o[t.id].geometry),t._new&&!t.geometry){var i=T()((0,ee.kG)(r),{id:t.id});i&&i.geometry&&(t.geometry=i.geometry)}n&&(t.geometry=(0,re.dc)(r,t.id)?(0,re.dc)(r,t.id).geometry:null)}return t})).filter((function(e){return null!==e.geometry||"empty_row"!==e.id}))).length>0?b().Observable.from([(0,L.Yf)("drawOrEdit",i,"featureGrid",u,a)]):b().Observable.from([(0,L.Yf)("clean","","featureGrid",[],{})]);var r,n,o,i,a,u}))},Xe=function(e){return e.ofType(Q.IN).switchMap((function(){return b().Observable.of((0,L.bp)())}))},Qe=function(e,t){return e.ofType(Q.aO).switchMap((function(e){return e.mode===Q.EH.VIEW?b().Observable.of((0,L.bp)(),(0,J.WP)("featuregrid.select")):e.mode!==Q.EH.EDIT||(0,ee.bq)(t.getState())?b().Observable.of((0,J.WP)()):b().Observable.of((0,L.bp)(),(0,J.WP)("featuregrid.select"),(0,te.Kp)({title:"featuregrid.notSupportedGeometryTitle",message:"featuregrid.notSupportedGeometry",uid:"notSupportedGeometryWarning",autoDismiss:5}))}))},Ke=function(e){return e.ofType(Q.$O).switchMap((function(){return e.ofType(F.nk).take(1).switchMap((function(){return b().Observable.of((0,Q.nY)(),(0,Q.YV)())})).takeUntil(e.ofType(Q.sF))}))},$e=function(e,t){return e.ofType(F.nk).switchMap((function(){return(0,$._d)(t.getState())?b().Observable.of((0,K.Xg)("queryPanel","enabled",!1)):b().Observable.empty()}))},Je=function(e,t){return e.ofType(Q.$O).switchMap((function(){return e.ofType(K.kM).filter((function(e){return e.control&&"drawer"===e.control&&(0,ee.Rd)(t.getState())})).switchMap((function(){return b().Observable.of((0,Q.YV)(),(0,Q.KD)([]))})).takeUntil(e.ofType(F.nk))}))},et=function(e,t){return e.ofType(Q.bZ).switchMap((function(){var e=t.getState();return(0,ee.LB)(e)||(0,ee.b4)(e)?b().Observable.of((0,Q.Pv)("featureCloseConfirm",!0)):b().Observable.of((0,Q.YV)())}))},tt=function(e){return e.ofType(Q.Gk).switchMap((function(){return b().Observable.of((0,Q.$E)(),(0,Q.Pv)("clearConfirm",!1))}))},rt=function(e){return e.ofType(Q.vO).switchMap((function(){return b().Observable.of((0,K.Xg)("drawer","enabled",!1),(0,Q.Pv)("featureCloseConfirm",!1))}))},nt=function(e,t){return e.ofType(Q.$O).exhaustMap((function(){return e.ofType(Q.sF).delay(50).filter((function(){return(0,re.M7)(t.getState())})).switchMap((function(){return b().Observable.of(be(t.getState()))})).takeUntil(e.ofType(F.nk,Z.xy,Q.VM))}))},ot=function(e){return e.ofType(Q.$O).switchMap((function(){return b().Observable.race(e.ofType(Z.xy).take(1),e.ofType(Q.sF).take(1)).exhaustMap((function(t){return t.type===Q.sF?b().Observable.empty():e.ofType(Z.F9).switchMap((function(){return b().Observable.of((0,Q.t9)())}))})).takeUntil(e.ofType(F.nk,K.kM).filter((function(e){return e.type===F.nk||e.control&&"drawer"===e.control})).merge(e.ofType(Q.sF).withLatestFrom(e.ofType(Z.xy,Z.F9).scan((function(e,t){switch(t.type){case Z.xy:return!1;case Z.F9:return!0;default:return!1}}),!0).startWith(!0),(function(e,t){return t})).filter((function(e){return e}))))}))},it=function(e,t){return e.ofType(Q.VM).switchMap((function(){return b().Observable.of((0,Q.KD)([]),(0,W.F)(f()(t.getState(),'featuregrid.advancedFilters["'.concat((0,ee.u$)(t.getState()),'"]'))),(0,Q.YV)(),(0,K.Xg)("queryPanel","enabled",!0)).merge(b().Observable.race(e.ofType(W.Wm).mergeMap((function(e){return b().Observable.of((0,V.rP)(e.searchUrl,e.filterObj),(0,Q.Uh)(x()({},(0,oe.gC)(t.getState()),e.filterObj)),(0,K.Xg)("queryPanel","enabled",!1),(0,Q.t9)())})),e.ofType(K.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control,r=e.property;return"queryPanel"===t&&(!r||"enabled"===r)})).mergeMap((function(){var e="clean"!==(t.getState().draw||{}).drawStatus?[(0,L.Yf)("clean","","featureGrid",[],{})]:[];return b().Observable.from(e.concat((0,Q.t9)()))}))).takeUntil(e.ofType(Q.$O,F.nk)))}))},at=function(e,t){return e.ofType(Q.a3).filter((function(){return!f()(t.getState(),"featuregird.virtualScroll",!1)})).switchMap((function(){return b().Observable.of((0,H.Px)(M()((0,re.F0)(t.getState())),"EPSG:4326"))}))},ut=function(e){return e.ofType(Q.aO).filter((function(e){return e.mode===Q.EH.EDIT})).map((function(){return(0,K.fV)(["query"])}))},ct=function(e){return e.ofType(Q.$O).switchMap((function(){return b().Observable.of((0,Z.Mc)())}))},lt=function(e,t){return e.ofType(V._T).filter((function(){return(0,re.M7)(t.getState())})).mapTo((0,Q.hB)())},ft=function(e,t){return e.ofType(V._T).filter((function(){return!(0,re.M7)(t.getState())})).switchMap((function(){return b().Observable.from([be(t.getState()),{type:Q.Hg}])}))},st=function(e,t){return e.ofType(Q.sF).filter((function(){return(0,re.M7)(t.getState())})).switchMap((function(){return b().Observable.of((0,V.XO)())}))},dt=function(e,t){return e.ofType(V.Yx,V.VN).filter((function(e){var r=t.getState().featuregrid.disableQuickFilterSync;return e.type===V.Yx||!r})).switchMap((function(){var r=t.getState(),n=r.query,o=(r.featuregrid||{}).selectedLayer,i=(n||{}).filterObj;return b().Observable.merge(b().Observable.of((0,re.M7)(t.getState())).filter((function(e){return e})),e.ofType(Q.Yd)).mergeMap((function(){return b().Observable.of(function(e,t){return(0,X.He)(e,{filterObj:t})}(o,i))}))}))},pt=function(e,t){var r=t.getState;return e.ofType(Q.ye).filter((function(){return!(0,re.gy)(r())})).switchMap((function(t){var n=r(),o=t.pages,i=o.startPage,a=o.endPage,u=n.featuregrid,c=u.pages,l=u.pagination,s=f()(l,"size"),d=(0,k.gP)(i,a,c,s),p=d[1]-d[0]+1;return b().Observable.of((0,V.IO)((0,re.Bu)(n),ye(se({},(0,re.X1)(n)),{startIndex:d[0]*s,maxFeatures:p*s}),(0,ee.TC)(n))).filter((function(){return d.length>0})).merge(e.ofType(V.Hu).filter((function(){return d.length>0})).map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.result,n=void 0===t?{}:t,o=e.filterObj,u=r().featuregrid,l=u.features,d=u.maxStoredPages,p=f()(o,"pagination.startIndex"),y=(0,k.f1)(n,{endPage:a,startPage:i},{pages:c,features:l||[]},{size:s,startIndex:p,maxStoredPages:d}),g=y.pages,m=y.features;return(0,Q.UB)(m,g)})).take(1).takeUntil(e.ofType(V.VT))).merge(e.ofType(V.yz).filter((function(){return d.length>0})).filter((function(e){return!e.isLoading})).withLatestFrom(e.ofType(Q.ye)).map((function(e){return e[1]})).take(1).takeUntil(e.ofType(V.VT)))}))},yt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState,n=void 0===r?function(){}:r;return e.ofType(X.Zz).filter((function(e){var t=e.layer,r=void 0===t?[]:t,o=e.params,i=void 0===o?{}:o;return D()(P()(r),(0,ee.u$)(n()))&&D()(Object.keys(i),"time")&&(0,ee.DK)(n())})).merge(e.ofType(Q.d)).filter((function(){return(0,ee.Rd)(n())})).withLatestFrom(e.ofType(V.Qq),(function(e,t){return t})).switchMap((function(e){return b().Observable.of((0,V.rP)(e.searchUrl,e.filterObj))}))},gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(K.kM).filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.control;return"drawer"===t&&r().browser&&r().browser.mobile&&(0,$.BP)(r())})).switchMap((function(){return b().Observable.of((0,Z.aN)(),(0,Q.t9)())}))},mt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.getState;return e.ofType(Z.xy).filter((function(){return r().browser&&r().browser.mobile&&(0,$.BP)(r())})).mapTo((0,K.Xi)("drawer","enabled"))},bt=r(67424),vt=r(93358),Et=r(1262),Ot=r(99534),ht=r(5346),wt=r(30029),Tt=r(18027),St=r(30294),Pt=r(72986),It=r.n(Pt),Dt=r(38560);r(49548);var Ct=r(15135),_t=r(59979),Ft=["renderPopover","popoverOptions"];function At(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const jt=(0,p.compose)((0,p.withProps)((function(e){var t=e.renderPopover,r=e.popoverOptions;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?At(Object(r),!0).forEach((function(t){Gt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(t?{renderPopover:t,popoverOptions:r}:{},function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Ft))})),(0,p.branch)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.renderPopover,r=e.popoverOptions;return t&&!!r}),_t.Z,Ct.Z));var Mt=["disabled","id","visible","onClick","glyph","active","loading","className"];function Rt(){return Rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rt.apply(this,arguments)}var kt={width:0,padding:0,borderWidth:0},Nt={},xt=function(e){return e?Nt:kt};const Lt=(0,o.forwardRef)((function(e,t){var r=e.disabled,n=e.id,o=e.visible,a=e.onClick,u=e.glyph,c=e.active,l=e.loading,f=void 0!==l&&l,s=e.className,d=void 0===s?"square-button":s,p=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,Mt);return i().createElement(Dt.Z,Rt({ref:t},p,{bsStyle:c?"success":"primary",disabled:r,id:"fg-".concat(n),style:xt(o),className:d,onClick:function(){return!r&&a()}}),f?i().createElement("div",{className:"toc-inline-loader"}):i().createElement(St.Glyphicon,{glyph:u}))}));var Yt=r(15124),Ut=jt(Lt),Bt=function(e,t){return e?"featuregrid.toolbar.stopDrawGeom":t?"featuregrid.toolbar.drawGeom":"featuregrid.toolbar.addGeom"},Zt=function(e){var t=e.saving,r=e.saved;return t||r?"featuregrid.toolbar.saving":"featuregrid.toolbar.saveChanges"},Vt=r(55105),Wt=r(93152);const Ht={onGridSort:function(e,t){return(0,Q.DY)(e,t)},onAddFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Q.a8)(e)},onTemporaryChanges:function(e){return(0,Q.aT)(e)},onGridRowsUpdated:function(e,t){var r,n,o=e.fromRow,i=e.toRow,a=e.updated,u=(r=o,n=i,Array.from({length:n+1-r},(function(e,t){return t+r}))).map((function(e){return t(e)})).filter((function(e){return Object.keys(a||{}).filter((function(t){return e.properties[t]!==a[t]})).length>0}));return(0,Q.nG)(u,a)},onRowsToggled:function(e,t){return(0,Q.KD)(e.map((function(e){return t(e.rowIdx)})),!1)},onRowsSelected:function(e,t){return(0,Q.KD)(e.map((function(e){return t(e.rowIdx)})),!0)},onRowsDeselected:function(e,t){return(0,Q.gr)(e.map((function(e){return t(e.rowIdx)})))}};var zt=r(50966);const qt=[{name:"",key:"geometry",width:35,frozen:!0,events:{onClick:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=n.crs,i=n.maxZoom;return e.geometry?(0,H.Px)(M()(e),o||"EPSG:4326",i):{type:"NONE"}}},formatter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.value;return t?i().createElement(St.Glyphicon,{glyph:"zoom-to"}):i().createElement(zt.Z,{placement:"top",overlay:i().createElement(St.Tooltip,{id:"fe-save-features"},i().createElement(ht.Z,{msgId:"featuregrid.missingGeometry"}))},i().createElement(St.Glyphicon,{glyph:"exclamation-mark"}))}}],Xt={onPageChange:function(e,t){return(0,Q.oO)(e,t)},moreFeatures:Q.zd};var Qt=r(57579);const Kt={createFeature:function(){return(0,Q.lx)([{}])},saveChanges:function(){return(0,Q.$S)()},clearFeatureEditing:function(){return(0,Q.Pv)("clearConfirm",!0)},deleteGeometry:function(){return(0,Q.pX)()},deleteFeatures:function(){return(0,Q.Pv)("deleteConfirm",!0)},download:function(){return(0,K.Xi)("layerdownload")},settings:function(){return(0,Q.Pv)("settings")},switchEditMode:function(){return(0,Q.lg)()},startEditingFeature:function(){return(0,Q.sY)()},startDrawingFeature:function(){return(0,Q.kA)()},switchViewMode:function(){return(0,Q.nY)()},onClose:function(){return(0,Q.JK)()},showQueryPanel:function(){return(0,Q.MY)()},zoomAll:function(){return(0,Q.ve)()},sync:function(){return(0,V.XO)()},setTimeSync:Q.Yb,hideSyncPopover:function(){return(0,Q.Pl)()},toggleShowAgain:function(){return(0,Q.Ib)()},chart:function(){return(0,Qt.C2)()},downloadIGRACData:function(){return(0,Q.Ye)()},finishDownloadingIGRACData:function(){return(0,Q.i3)()}};var $t=Ht,Jt=qt,er=Xt,tr=Kt;const rr=(0,a.connect)((function(e){return{attributes:(0,ee.o)(e)}}),{onChange:function(e,t){return(0,Q.an)(e,"hide",t)}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.style,r=void 0===t?{}:t,n=e.titleMsg,o=void 0===n?"featuregrid.columns":n,a=e.onChange,u=void 0===a?function(){}:a,c=e.attributes,l=void 0===c?[]:c;return i().createElement("div",{className:"bg-body data-attribute-selector",style:r},i().createElement("h4",{className:"text-center"},i().createElement("strong",null,i().createElement(ht.Z,{msgId:o}))),i().createElement("div",null,l.map((function(e){return i().createElement(St.Checkbox,{key:e.attribute||e.name,checked:!e.hide,onChange:function(){return u(e.attribute,!e.hide)}},e.label||e.attribute)}))))}));function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nr.apply(this,arguments)}function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){ar(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ur=(0,a.connect)((0,u.zB)({loading:re.gy}))(wt.Z),cr=(0,a.connect)((0,u.zB)({saving:ee.uz,saved:ee.Ci,mode:ee.eK,hasChanges:ee.LB,hasNewFeatures:ee.b4,hasGeometry:ee.OK,syncPopover:function(e){return{showAgain:(0,ee.tU)(e),showPopoverSync:(0,ee.Gl)(e),dockSize:(0,Vt.ic)(e,{dockSize:!0}).dockSize+3.2+"%"}},isDrawing:ee.Ae,showChartButton:function(e){return!(0,ee.PI)(e)&&(0,$.PJ)(e)},isSimpleGeom:ee.He,selectedCount:ee.jY,disableToolbar:function(e){return e&&e.featuregrid&&e.featuregrid.disableToolbar||!(0,re.hk)(e,(0,ee.kd)(e))},displayDownload:$.pn,disableDownload:function(e){return 0===((0,re.Mz)(e)||[]).length},isDownloadOpen:function(e){return e&&e.controls&&e.controls.layerdownload&&e.controls.layerdownload.enabled},isSyncActive:re.M7,isColumnsOpen:function(e){return e&&e.featuregrid&&e.featuregrid.tools&&e.featuregrid.tools.settings},disableZoomAll:function(e){return e&&e.featuregrid.virtualScroll||0===(0,re.F0)(e).features.length},isSearchAllowed:function(e){return!(0,Wt.c0)(e)},isIGRACDownloading:function(e){return e.featuregrid.isIGRACDownloading},isIGRACDownloadAllowed:function(e){return(0,ee.kd)(e).toLowerCase().includes("groundwater_well")},isEditingAllowed:ee.nq,hasSupportedGeometry:ee.bq,isFilterActive:re.VD,showTimeSyncButton:ee.ou,timeSync:ee.DK}),(function(e){return{events:(0,c.DE)(tr,e)}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableToolbar,r=e.disableDownload,n=e.disableZoomAll,o=void 0!==n&&n,a=e.displayDownload,u=e.events,c=void 0===u?{}:u,l=e.hasChanges,f=e.hasGeometry,s=e.hasNewFeatures,d=e.hasSupportedGeometry,p=void 0===d||d,y=e.isColumnsOpen,g=e.isDrawing,m=void 0!==g&&g,b=e.isEditingAllowed,v=e.isFilterActive,E=void 0!==v&&v,O=e.isDownloadOpen,h=e.isSearchAllowed,w=e.isSimpleGeom,T=e.isSyncActive,S=void 0!==T&&T,P=e.saved,I=void 0!==P&&P,D=e.saving,C=void 0!==D&&D,_=e.selectedCount,F=e.showAdvancedFilterButton,A=void 0===F||F,G=e.showChartButton,j=void 0===G||G,M=e.showSyncOnMapButton,R=void 0===M||M,k=e.showTimeSyncButton,N=void 0!==k&&k,x=e.syncPopover,L=void 0===x?{showPopoverSync:!0,dockSize:"32.2%"}:x,Y=e.mode,U=void 0===Y?"VIEW":Y,B=e.timeSync,Z=void 0!==B&&B,V=e.isIGRACDownloading,W=void 0!==V&&V,H=e.isIGRACDownloadAllowed,z=void 0!==H&&H;return i().createElement(St.ButtonGroup,{id:"featuregrid-toolbar",className:"featuregrid-toolbar featuregrid-toolbar-margin"},i().createElement(Ut,{id:"edit-mode",keyProp:"edit-mode",tooltipId:"featuregrid.toolbar.editMode",disabled:t,visible:"VIEW"===U&&b,onClick:c.switchEditMode,glyph:"pencil"}),i().createElement(Ut,{id:"search",keyProp:"search",tooltipId:"featuregrid.toolbar.advancedFilter",active:E,disabled:t||!h,visible:"VIEW"===U&&A,onClick:c.showQueryPanel,glyph:"filter"}),i().createElement(Ut,{id:"zoom-all",keyProp:"zoom-all",tooltipId:"featuregrid.toolbar.zoomAll",disabled:t||o,visible:"VIEW"===U,onClick:c.zoomAll,glyph:"zoom-to"}),i().createElement(Ut,{id:"back-view",keyProp:"back-view",tooltipId:"featuregrid.toolbar.quitEditMode",disabled:t,visible:"EDIT"===U&&!l&&!s,onClick:c.switchViewMode,glyph:"arrow-left"}),i().createElement(Ut,{id:"add-feature",keyProp:"add-feature",tooltipId:"featuregrid.toolbar.addNewFeatures",disabled:t,visible:"EDIT"===U&&!s&&!l&&p,onClick:c.createFeature,glyph:"row-add"}),i().createElement(Ut,{id:"draw-feature",keyProp:"draw-feature",tooltipId:Bt(m,w),disabled:t,visible:"EDIT"===U&&1===_&&(!f||f&&!w)&&p,onClick:c.startDrawingFeature,active:m,glyph:"pencil-add"}),i().createElement(Ut,{id:"remove-features",keyProp:"remove-features",tooltipId:"featuregrid.toolbar.deleteSelectedFeatures",disabled:t,visible:"EDIT"===U&&_>0&&!l&&!s,onClick:c.deleteFeatures,glyph:"trash-square"}),i().createElement(Ut,{id:"save-feature",keyProp:"save-feature",tooltipId:Zt({saving:C,saved:I}),disabled:C||I||t,visible:"EDIT"===U&&l||s,active:I,onClick:c.saveChanges,glyph:"floppy-disk"}),i().createElement(Ut,{id:"cancel-editing",keyProp:"cancel-editing",tooltipId:"featuregrid.toolbar.cancelChanges",disabled:t,visible:"EDIT"===U&&l||s,onClick:c.clearFeatureEditing,glyph:"remove-square"}),i().createElement(Ut,{id:"delete-geometry",keyProp:"delete-geometry",tooltipId:"featuregrid.toolbar.deleteGeometry",disabled:t,visible:"EDIT"===U&&f&&1===_&&p,onClick:c.deleteGeometry,glyph:"polygon-trash"}),i().createElement(Ut,{id:"download-grid",keyProp:"download-grid",tooltipId:"featuregrid.toolbar.downloadGridData",disabled:t||r,active:O,visible:a&&"VIEW"===U,onClick:c.download,glyph:"download"}),i().createElement(Ut,{id:"grid-settings",keyProp:"grid-settings",tooltipId:"featuregrid.toolbar.hideShowColumns",disabled:t,active:y,visible:_<=1&&"VIEW"===U,onClick:c.settings,glyph:"features-grid-set"}),i().createElement(Ut,{id:"grid-map-chart",keyProp:"grid-map-chart",tooltipId:"featuregrid.toolbar.createNewChart",disabled:t,visible:"VIEW"===U&&j,onClick:c.chart,glyph:"stats"}),i().createElement(Ut,{id:"grid-map-filter",keyProp:"grid-map-filter",tooltipId:"featuregrid.toolbar.syncOnMap",disabled:t,active:S,visible:R,onClick:c.sync,glyph:"map-filter",renderPopover:L.showPopoverSync,popoverOptions:!t&&{placement:"top",content:i().createElement("span",null,i().createElement("p",null,i().createElement(ht.Z,{msgId:"featuregrid.toolbar.synchPopoverText"})),i().createElement("p",null,i().createElement(St.Checkbox,{checked:L.showAgain,onClick:c.toggleShowAgain},i().createElement(ht.Z,{msgId:"featuregrid.toolbar.notShowAgain"})))),props:{id:"sync-popover",title:i().createElement("div",null,i().createElement(ht.Z,{msgId:"featuregrid.toolbar.synchPopoverTitle"}),i().createElement("button",{onClick:function(){if(L.showAgain)try{(0,Yt.ac)().setItem("showPopoverSync",!1)}catch(e){console.error(e)}c.hideSyncPopover()},className:"close"},i().createElement(St.Glyphicon,{className:"pull-right",glyph:"1-close"}))),style:{bottom:L.dockSize}}}}),i().createElement(Ut,{id:"timeSync-button",keyProp:"fg-timeSync-button",tooltipId:Z?"featuregrid.toolbar.disableTimeSync":"featuregrid.toolbar.enableTimeSync",visible:N,active:Z,onClick:function(){return c.setTimeSync&&c.setTimeSync(!Z)},glyph:"time"}),i().createElement(Ut,{id:"grid-igrac-download",keyProp:"grid-igrac-download",tooltipId:"featuregrid.toolbar.downloadIGRACData",disabled:W,active:!W,visible:_<=1&&"VIEW"===U&&z,onClick:c.downloadIGRACData,loading:W,glyph:"features-grid-download"}))})),lr=(0,a.connect)((0,u.P1)(ee.Sj,(function(e){return{title:e}})),{onClose:tr.onClose})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onDownloadToggle:function(){}};return i().createElement(St.Grid,{className:"bg-body data-grid-top-toolbar",fluid:!0,style:{width:"100%"}},i().createElement(St.Row,{className:"flex-center"},i().createElement(St.Col,{xs:4},e.children),i().createElement(St.Col,{xs:4},i().createElement("div",{className:"text-center text-primary"},i().createElement("strong",null,e.title))),i().createElement(St.Col,{xs:4},i().createElement(Dt.Z,{onClick:e.onClose,style:{float:"right"},className:"square-button no-border featuregrid-top-toolbar-margin"},i().createElement(St.Glyphicon,{glyph:"1-close"})))))})),fr=(0,a.connect)((0,u.P1)((0,u.zB)(re.b0),re.gy,(function(e){return e&&e.featuregrid&&!!e.featuregrid.virtualScroll}),ee.jY,(function(e,t,r,n){return ir(ir({},e),{},{selected:n,loading:t,virtualScroll:r})})),er)((function(){var e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,onPageChange:function(){}},n=(0,k.DR)(r),o=n.page,a=void 0===o?0:o,u=n.size,c=void 0===u?0:u,l=n.resultSize,f=void 0===l?0:l,s=n.maxPages,d=void 0===s?0:s,p=n.total,y=void 0===p?0:p;return i().createElement(St.Grid,{className:"bg-body data-grid-bottom-toolbar",fluid:!0,style:{width:"100%"}},i().createElement(St.Row,{className:"featuregrid-toolbar-margin"},i().createElement(St.Col,{md:3},i().createElement("span",null,i().createElement(ht.Z,{msgId:r.virtualScroll?"featuregrid.resultInfoVirtual":"featuregrid.resultInfo",msgParams:{start:a*c+1,end:a*c+f,total:y,selected:null!==(e=r.selected)&&void 0!==e?e:0}}))," ",r.selected>0?i().createElement("span",null,i().createElement(ht.Z,{msgId:"featuregrid.selectedInfo",msgParams:{selected:null!==(t=r.selected)&&void 0!==t?t:0}})):null),r.virtualScroll?null:i().createElement(St.Col,{className:"text-center",md:6},i().createElement(Dt.Z,{key:"first-page",onClick:function(){return r.onPageChange(0)},disabled:0===a,className:"no-border first-page"},i().createElement(St.Glyphicon,{glyph:"step-backward"})),i().createElement(Dt.Z,{key:"prev-page",onClick:function(){return r.onPageChange(a-1)},disabled:0===a,className:"no-border prev-page"},i().createElement(St.Glyphicon,{glyph:"chevron-left"})),i().createElement("span",{key:"page-info"},i().createElement(ht.Z,{msgId:"featuregrid.pageInfo",msgParams:{page:a+1,totalPages:d+1}})),i().createElement(Dt.Z,{key:"next-page",onClick:function(){return r.onPageChange(a+1)},className:"no-border next-page",disabled:a>=d},i().createElement(St.Glyphicon,{glyph:"chevron-right"})),i().createElement(Dt.Z,{key:"last-page",onClick:function(){return r.onPageChange(d)},className:"no-border last-page",disabled:a>=d},i().createElement(St.Glyphicon,{glyph:"step-forward"})))," ",i().createElement(St.Col,{md:3},r.loading?i().createElement("span",{style:{float:"right"}},i().createElement(ht.Z,{msgId:"loading"}),i().createElement(It(),{spinnerName:"circle",style:{float:"right"},noFadeIn:!0})):null)))})),sr=(0,a.connect)((0,u.P1)(ee.jY,(function(e){return{count:e}})),{onClose:function(){return(0,Q.Pv)("deleteConfirm",!1)},onConfirm:function(){return(0,Q.Uz)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.count,u=e.onConfirm,c=void 0===u?function(){}:u;return i().createElement(Ot.Z,null,i().createElement(Et.Z,{show:!0,onClose:r,onConfirm:c,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(ht.Z,{msgId:"featuregrid.deleteButton"}),confirmButtonDisabled:o},i().createElement(ht.Z,{msgId:"featuregrid.delete",msgParams:{count:a}})))})),dr=(0,a.connect)((0,u.P1)(ee.jY,(function(e){return{count:e}})),{onClose:function(){return(0,Q.Pv)("clearConfirm",!1)},onConfirm:function(){return(0,Q.oL)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(Ot.Z,null,i().createElement(Et.Z,{draggable:!1,show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(ht.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(ht.Z,{msgId:"featuregrid.noButton"})},i().createElement(ht.Z,{msgId:"featuregrid.clear"})))})),pr=(0,a.connect)((function(){}),{onClose:function(){return(0,Q.Ap)()},onConfirm:function(){return(0,Q.YV)()}})((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,r=void 0===t?function(){}:t,n=e.saving,o=void 0!==n&&n,a=e.onConfirm,u=void 0===a?function(){}:a;return i().createElement(Ot.Z,null,i().createElement(Et.Z,{show:!0,onClose:r,onConfirm:u,confirmButtonBSStyle:"default",closeGlyph:"1-close",confirmButtonContent:i().createElement(ht.Z,{msgId:"featuregrid.yesButton"}),confirmButtonDisabled:o,closeText:i().createElement(ht.Z,{msgId:"featuregrid.noButton"})},i().createElement(ht.Z,{msgId:"featuregrid.featureClose"})))})),yr={settings:rr},gr={deleteConfirm:sr,featureCloseConfirm:pr,clearConfirm:dr},mr={settings:{style:{padding:"0 12px",overflow:"auto",flex:"0 0 14em",boxShadow:"inset 0px 0px 10px rgba(0, 0, 0, 0.4)",height:"100%",minWidth:195}}},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&yr[t]})).map((function(e){var t=yr[e];return i().createElement(t,nr({key:e},mr[e]||{}))}))},vr=function(){return i().createElement(lr,null,i().createElement(cr,null))},Er=function(e){return e.focusOnEdit&&e.hasChanges||e.newFeatures.length>0?null:i().createElement(fr,null)},Or=function(){return ur},hr=(0,u.P1)((function(e){return e}),(function(e){return e?((0,B.getFeatureTypeProperties)(e)||[]).reduce((function(e,t){return ir(ir({},e),{},ar({},t.name,(0,a.connect)((0,u.P1)((function(e){return(0,ee.g5)(e,t.name)}),ee.eK,(function(e,r){var n=ir({value:e&&(e.rawValue||e.value)},(0,B.isGeometryType)(t)?{filterEnabled:null==e?void 0:e.enabled,filterDeactivated:null==e?void 0:e.deactivated}:{}),o=(0,B.isGeometryType)(t)?{}:{disabled:!0,tooltipMsgId:"featuregrid.filter.tooltips.editMode"};return"EDIT"===r?ir(ir({},n),o):n})))((0,Tt.Q)((0,B.isGeometryType)(t)?"geometry":t.localType,{name:t.name}))))}),{}):{}})),wr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).filter((function(t){return e[t]&&gr[t]})).map((function(e){var t=gr[e];return i().createElement(t,{key:e})}))},Tr=r(65539),Sr=r(96259);function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){Dr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cr(){return Cr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cr.apply(this,arguments)}var _r=[],Fr={},Ar=(0,a.connect)((0,u.P1)(ee.P4,(function(e){return(0,Vt.ic)(e,{transform:!0})}),(function(e,t){return{size:e,dockStyle:t}})))(y.default),Gr=(0,u.P1)((function(e){return f()(e,"featuregrid.open")}),(function(e){return f()(e,"featuregrid.customEditorsOptions")}),(function(e){return f()(e,"queryform.autocompleteEnabled")}),(function(e){return(0,re.UM)(e)}),(function(e){return(0,re.HY)(e)}),(function(e){return f()(e,"featuregrid.features")||_r}),re.Qs,(function(e){return f()(e,"featuregrid.attributes")}),(function(e){return f()(e,"featuregrid.tools")}),ee._w,ee.eK,ee.eO,ee.kG,ee.LB,(function(e){return f()(e,"featuregrid.focusOnEdit",!1)}),(function(e){return f()(e,"featuregrid.enableColumnFilters")}),(0,u.zB)(re.b0),(function(e){return f()(e,"featuregrid.pages")}),(function(e){return f()(e,"featuregrid.pagination.size")}),(function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_r,a=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,f=arguments.length>10?arguments[10]:void 0,s=arguments.length>11?arguments[11]:void 0,d=arguments.length>12&&void 0!==arguments[12]?arguments[12]:_r,p=arguments.length>13?arguments[13]:void 0,y=arguments.length>14?arguments[14]:void 0,g=arguments.length>15?arguments[15]:void 0,m=arguments.length>16?arguments[16]:void 0,b=arguments.length>17?arguments[17]:void 0,v=arguments.length>18?arguments[18]:void 0;return{open:e,customEditorsOptions:t,autocompleteEnabled:r,url:n,typeName:o,hasChanges:p,newFeatures:d,features:i,describe:a,attributes:u,tools:c,select:l,mode:f,focusOnEdit:y,enableColumnFilters:g,changes:(0,k.rK)(s),pagination:m,pages:b,size:v}})),jr=(0,p.compose)((0,a.connect)(Gr,(function(e){return{onMount:(0,c.DE)(Q.Z_,e),gridEvents:(0,c.DE)($t,e),pageEvents:(0,c.DE)(er,e),initPlugin:(0,c.DE)((function(e){return(0,Q.QT)(e)}),e),toolbarEvents:(0,c.DE)(tr,e),gridTools:Jt.map((function(t){return Ir(Ir({},t),{},{events:(0,c.DE)(t.events,e)})})),onSizeChange:function(){return e(Q.Ox.apply(void 0,arguments))}}})),(0,p.lifecycle)({componentDidMount:function(){this.props.onMount(d()(this.props,["showFilteredObject","showTimeSync","timeSync"]))}}))((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tools:Fr,dialogs:Fr,select:_r},t=e.pluginCfg.maxZoom,r={dimMode:"none",defaultSize:.35,fluid:!0,isVisible:e.open,maxDockSize:.7,minDockSize:.1,position:"bottom",setDockSize:function(){},zIndex:1030};return i().createElement(Ar,Cr({},r,{onSizeChange:function(t){e.onSizeChange(t,r)}}),e.open&&i().createElement(Sr.Z,null,(function(r){var n=r.height;return i().createElement(Tr.Z,{className:"feature-grid-container",key:"feature-grid-container",height:n-94,header:vr(),columns:br(e.tools),footer:Er(e)},wr(e.tools),i().createElement(vt.Z,{editingAllowedRoles:e.editingAllowedRoles,initPlugin:e.initPlugin,customEditorsOptions:e.customEditorsOptions,autocompleteEnabled:e.autocompleteEnabled,url:e.url,typeName:e.typeName,filterRenderers:hr(e.describe),enableColumnFilters:e.enableColumnFilters,emptyRowsView:Or(),focusOnEdit:e.focusOnEdit,newFeatures:e.newFeatures,changes:e.changes,mode:e.mode,select:e.select,key:"feature-grid-container",columnSettings:e.attributes,gridEvents:e.gridEvents,pageEvents:e.pageEvents,describeFeatureType:e.describe,features:e.features,minHeight:600,tools:e.gridTools,pagination:e.pagination,pages:e.pages,virtualScroll:e.virtualScroll,maxStoredPages:e.maxStoredPages,vsOverScan:e.vsOverScan,scrollDebounce:e.scrollDebounce,size:e.size,actionOpts:{maxZoom:t}}))})))}));const Mr=(0,g.rx)("FeatureEditor",{component:jr,epics:n,reducers:{featuregrid:bt.Z},containers:{TOC:{doNotHide:!0,name:"FeatureEditor"}}})},7147:(e,t,r)=>{"use strict";r.d(t,{Yq:()=>i,Iz:()=>a,QF:()=>u,_d:()=>c,pn:()=>l,lI:()=>f,PJ:()=>s,dH:()=>d,Gd:()=>p,tL:()=>y,R4:()=>g,BP:()=>m});var n=r(27361),o=r.n(n),i=function(e){return function(e,t){return function(t){return o()(t,"controls[".concat(e,"][").concat("enabled","]"))}}(e)},a=function(e){return o()(e,"controls.measure.showCoordinateEditor")},u=function(e){return o()(e,"controls.measure.enabled")},c=function(e){return o()(e,"controls.queryPanel.enabled")},l=function(e){return!!o()(e,"controls.layerdownload.available")},f=function(e){return!!o()(e,"controls.layerdownload.enabled")},s=function(e){return o()(e,"controls.widgetBuilder.available",!1)},d=function(e){return o()(e,"controls.widgetBuilder.enabled")},p=function(e){return o()(e,"controls.layersettings.initialSettings")||{}},y=function(e){return o()(e,"controls.layersettings.originalSettings")||{}},g=function(e){return o()(e,"controls.layersettings.activeTab")||"general"},m=function(e){return o()(e,"controls.drawer.enabled",!1)}},51751:(e,t,r)=>{var n=r(34387),o=n.filter,i=n.fidFilter;e.exports={fidFilter:i,filter:o}},39156:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(2245),u=r(84596),c=r(78889).wfsToGmlVersion,l=function(e){return'service="WFS" version="'+e+'" '+("1.0.0"===e?'outputFormat="GML2" ':"")+'xmlns:gml="http://www.opengis.net/gml" xmlns:wfs="http://www.opengis.net/wfs" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs '+"http://schemas.opengis.net/wfs/".concat(e,"1.0.0"===e?'/WFS-basic.xsd"':'/wfs.xsd"')},f=function(e){return'service="WFS" version="'+e+'" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd"'};e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.wfsVersion,r=void 0===t?"1.1.0":t,n=e.gmlVersion,i=e.filterNS,s=e.wfsNS,d=void 0===s?"wfs":s,p=n;!p&&r?p=c(r):p||(p="3.1.1");var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.viewParams,n=e.resultType,o=e.outputFormat,i=e.startIndex,a=e.maxFeatures,u=function(e){return 0===r.indexOf("2.")?'count="'.concat(e,'"'):'maxFeatures="'.concat(e,'"')};return(0===r.indexOf("1.")?l(r):f(r))+(n?' resultType="'.concat(n,'"'):"")+(o?' outputFormat="'.concat(o,'"'):"")+(i||0===i?' startIndex="'.concat(i,'"'):"")+(a||0===a?" ".concat(u(a)):"")+(t?' viewParams="'.concat(t,'"'):"")},g=function(e){return u(e).map((function(e){return"<".concat("2.0"===r?"fes":"ogc",":PropertyName>").concat(e,"</").concat("2.0"===r?"fes":"ogc",":PropertyName>")})).join("")};return o(o({propertyName:g},a({gmlVersion:p,wfsVersion:r,filterNS:i||"2.0"===r?"fes":"ogc"})),{},{getFeature:function(e,t){return"<".concat(d,":GetFeature ").concat(y(t),">").concat(Array.isArray(e)?e.join(""):e,"</").concat(d,":GetFeature>")},sortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ASC";return"<".concat(d,":SortBy><").concat(d,":SortProperty>").concat(g(e),"<").concat(d,":SortOrder>").concat(t,"</").concat(d,":SortOrder></").concat(d,":SortProperty></").concat(d,":SortBy>")},query:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.srsName,i=void 0===o?"EPSG:4326":o;return"<".concat(d,":Query ").concat("2.0"===r?"typeNames":"typeName",'="').concat(e,'" srsName="').concat(i,'">')+"".concat(Array.isArray(t)?t.join(""):t)+"</".concat(d,":Query>")}})}},50937:(e,t,r)=>{var n=["wfsVersion","wfsNS"];function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r(27361),f=r(75775),s=f.insert,d=f.feature,p=f.attribute,y=r(99381).transaction,g=r(50525),m=g.deleteFeaturesByFilter,b=g.deleteFeature,v=r(16685),E=v.update,O=v.propertyChange,h=r(78889),w=h.getPropertyDesciptor,T=h.getValue,S=h.findGeometryProperty,P=h.featureTypeSchema,I=r(39156),D=function(e,t){return t&&t.length>0?[e].concat(function(e){if(Array.isArray(e))return c(e)}(r=t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):e;var r},C=function(e){this.version=e},_=function(e){return l(e,"featureTypes[0].typeName")},F=function(e){return e.targetPrefix?"".concat(e.targetPrefix,":").concat(_(e)):_(e)},A=function(e,t){return e.geometry_name||S(t).name},G=function(e,t){return"geometry"===e||e===A({},t)?A({},t):e};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.wfsVersion,o=void 0===r?"1.1.0":r,a=t.wfsNS,c=void 0===a?"wfs":a,l=u(t,n);if("1.1.0"!==o)throw new C(o);var f=function(t){return d(e.targetPrefix,_(e),Object.keys(t.properties||[]).filter((function(t){return w(t,e)})).map((function(r){return p(e.targetPrefix,r,T(t.properties[r],r,e))})).concat(t.geometry?p(e.targetPrefix,A(t,e),T(t.geometry,A(t,e),e)):[]))},g=function(e){return e.features?e.features.map(f):f(e)};return i(i({},I(i(i({},l),{},{wfsVersion:o,wfsNS:c}))),{},{insert:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return s(c,Array.isArray(D(e,r))?D(e,r).map(g):g(e))},getPropertyName:function(t){return G(t,e)},deleteByFilter:function(t){return m(c,t,F(e))},deleteFeature:function(t){return b(c,t,F(e))},update:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return E(c,F(e),D(t,n))},propertyChange:function(t,r){return O(c,t,T(r,t,e))},transaction:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return y(D(t,n),P(e),o,c)}})}},50525:(e,t,r)=>{var n=r(51751).fidFilter,o=function(e,t,r){return"<".concat(e,':Delete typeName="').concat(r,'">').concat(t,"</").concat(e,":Delete>")},i=function(e,t,r){return o(e,n("ogc",t),r)};e.exports={deleteFeaturesByFilter:o,deleteById:i,deleteFeature:function(e,t,r){return i(e,t.features&&1===t.features.length?t.features[0].id:t.id,r)}}},75775:e=>{var t=function(e,t,r){return"<".concat(e?e+":"+t:t,">").concat(Array.isArray(r)?r.join(""):r,"</").concat(e?e+":"+t:t,">")},r=t,n=t;e.exports={insert:function(e,t){return"<".concat(e,":Insert>").concat(Array.isArray(t)?t.join(""):t,"</").concat(e,":Insert>")},feature:n,attribute:r}},99381:e=>{e.exports={transaction:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.wfsNS,o=void 0===n?"wfs":n,i=r.wfsVersion,a=void 0===i?"1.1.0":i;return"<".concat(o,":Transaction ")+'service="WFS" '+'version="'.concat(a,'" ')+"xmlns:".concat(o,'="http://www.opengis.net/wfs" ')+'xmlns:gml="http://www.opengis.net/gml" xmlns:ogc="http://www.opengis.net/ogc" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs" '+"".concat(t,">")+"".concat(Array.isArray(e)?e.join(""):e)+"</".concat(o,":Transaction>")}}},16685:e=>{e.exports={update:function(e,t,r){return"<".concat(e,':Update typeName="').concat(t,'">').concat(Array.isArray(r)?r.join(""):r,"</wfs:Update>")},propertyChange:function(e,t,r){return"<".concat(e,":Property>")+"<".concat(e,":Name>").concat(t,"</").concat(e,":Name>")+"<".concat(e,":Value>").concat(r,"</").concat(e,":Value>")+"</".concat(e,":Property>")}}},59297:(e,t,r)=>{(e.exports=r(9252)()).push([e.id,"\n.msgapi .featuregrid-toolbar {\n    margin-top: 5px;\n    margin-bottom: 5px;\n}\n\n.msgapi #featuregrid-toolbar .btn {\n    overflow: hidden;\n}\n",""])},90874:(e,t,r)=>{"use strict";var n=r(95318);t.__esModule=!0,t.default=void 0;var o,i=n(r(50139)),a="clearTimeout",u=function(e){var t=(new Date).getTime(),r=Math.max(0,16-(t-l)),n=setTimeout(e,r);return l=t,n},c=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=c(e,"request");if(t in window)return a=c(e,"cancel"),u=function(e){return window[t](e)}}));var l=(new Date).getTime();(o=function(e){return u(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var f=o;t.default=f,e.exports=t.default},62663:e=>{e.exports=function(e,t,r,n){var o=-1,i=null==e?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}},93054:(e,t,r)=>{"use strict";t.__esModule=!0,t.default=function(e){if("function"!=typeof e)throw new TypeError("You must provide a valid moment object");var t="function"==typeof e().locale?"locale":"lang";if(!e.localeData)throw new TypeError("The Moment localizer depends on the `localeData` api, please provide a moment object v2.2.0 or higher");function r(r,n,o){return r?e(n,o)[t](r):e(n,o)}var n={formats:{date:"L",time:"LT",default:"lll",header:"MMMM YYYY",footer:"LL",weekday:"dd",dayOfMonth:"DD",month:"MMM",year:"YYYY",decade:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(10,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)},century:function(t,r,n){return n.format(t,"YYYY",r)+" - "+n.format(function(t){return e(t).add(100,"year").add(-1,"millisecond").toDate()}(t),"YYYY",r)}},firstOfWeek:function(t){return e.localeData(t).firstDayOfWeek()},parse:function(e,t,n){if(!e)return null;var o=r(n,e,t);return o.isValid()?o.toDate():null},format:function(e,t,n){return r(n,e).format(t)}};return o.default.setDateLocalizer(n),n};var n,o=(n=r(77036))&&n.__esModule?n:{default:n};e.exports=t.default},49548:(e,t,r)=>{var n=r(59297);"string"==typeof n&&(n=[[e.id,n,""]]),r(14246)(n,{}),n.locals&&(e.exports=n.locals)}}]);